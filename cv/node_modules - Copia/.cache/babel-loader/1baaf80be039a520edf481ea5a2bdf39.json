{"ast":null,"code":"import { useState, useEffect } from \"react\";\nconst initialStatus = {\n  loading: false,\n  error: false,\n  data: {}\n};\n\nasync function getCep(cep) {\n  const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);\n  return await response.json();\n}\n\nfunction useCep() {\n  const [cep, setCep] = useState(null);\n  const [status, setStatus] = useState(initialStatus);\n  useEffect(() => {\n    async function fetchData() {\n      if (cep) {\n        setStatus({ ...status,\n          loading: true\n        });\n\n        try {\n          const data = await getCep(cep);\n          setStatus({ ...status,\n            loading: false,\n            data\n          });\n        } catch (e) {\n          setStatus({\n            loading: false,\n            error: true,\n            data: {}\n          });\n          throw e;\n        }\n      }\n    }\n\n    fetchData();\n  }, [cep]);\n  return [status, setCep];\n}\n\nexport default useCep;","map":{"version":3,"sources":["C:/Users/lucas/Desktop/TI/Entreprise-connection-fase-2-2022/cv/node_modules/react-hook-usecep/src/index.js"],"names":["useState","useEffect","initialStatus","loading","error","data","getCep","cep","response","fetch","json","useCep","setCep","status","setStatus","fetchData","e"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,MAAMC,aAAa,GAAG;AAAEC,EAAAA,OAAO,EAAE,KAAX;AAAkBC,EAAAA,KAAK,EAAE,KAAzB;AAAgCC,EAAAA,IAAI,EAAE;AAAtC,CAAtB;;AAEA,eAAeC,MAAf,CAAsBC,GAAtB,EAA2B;AACzB,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,4BAA2BF,GAAI,QAAjC,CAA5B;AACA,SAAO,MAAMC,QAAQ,CAACE,IAAT,EAAb;AACD;;AAED,SAASC,MAAT,GAAkB;AAChB,QAAM,CAACJ,GAAD,EAAMK,MAAN,IAAgBZ,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAACE,aAAD,CAApC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAec,SAAf,GAA2B;AACzB,UAAIR,GAAJ,EAAS;AACPO,QAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaV,UAAAA,OAAO,EAAE;AAAtB,SAAD,CAAT;;AACA,YAAI;AACF,gBAAME,IAAI,GAAG,MAAMC,MAAM,CAACC,GAAD,CAAzB;AACAO,UAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaV,YAAAA,OAAO,EAAE,KAAtB;AAA6BE,YAAAA;AAA7B,WAAD,CAAT;AACD,SAHD,CAGE,OAAOW,CAAP,EAAU;AACVF,UAAAA,SAAS,CAAC;AAAEX,YAAAA,OAAO,EAAE,KAAX;AAAkBC,YAAAA,KAAK,EAAE,IAAzB;AAA+BC,YAAAA,IAAI,EAAE;AAArC,WAAD,CAAT;AACA,gBAAMW,CAAN;AACD;AACF;AACF;;AACDD,IAAAA,SAAS;AACV,GAdQ,EAcN,CAACR,GAAD,CAdM,CAAT;AAgBA,SAAO,CAACM,MAAD,EAASD,MAAT,CAAP;AACD;;AAED,eAAeD,MAAf","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst initialStatus = { loading: false, error: false, data: {} };\n\nasync function getCep(cep) {\n  const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);\n  return await response.json();\n}\n\nfunction useCep() {\n  const [cep, setCep] = useState(null);\n  const [status, setStatus] = useState(initialStatus);\n\n  useEffect(() => {\n    async function fetchData() {\n      if (cep) {\n        setStatus({ ...status, loading: true });\n        try {\n          const data = await getCep(cep);\n          setStatus({ ...status, loading: false, data });\n        } catch (e) {\n          setStatus({ loading: false, error: true, data: {} });\n          throw e;\n        }\n      }\n    }\n    fetchData();\n  }, [cep]);\n\n  return [status, setCep];\n}\n\nexport default useCep;\n"]},"metadata":{},"sourceType":"module"}